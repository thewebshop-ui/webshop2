(this.webpackJsonpeccomerce=this.webpackJsonpeccomerce||[]).push([[0],{113:function(e,t,a){e.exports=a.p+"static/media/Ernstings.cf97d009.png"},118:function(e,t,a){e.exports=a.p+"static/media/icon.28a304ac.svg"},131:function(e,t,a){e.exports=a(193)},174:function(e,t,a){},193:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),o=a.n(l),c=a(59),i=a(14),u=a(47),s=a.n(u),m=a(73),d=a(13),p=a(256),b=a(32),f=a(15),g=a(259),E=a(263),h=a(196),v=a(243),w=a(245),y=a(246),k=a(93),O=a(244),j=a(113),x=a.n(j),C=a(31),S=a(233),T=a(8),N=Object(S.a)((function(e){return{appBar:Object(C.a)({boxShadow:"none",zIndex:"199",borderBottom:"1px solid rgba(0, 0, 0, 0.12)"},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(0,"px)"),marginLeft:0}),title:{flexGrow:1,alignItems:"center",display:"flex",textDecoration:"none"},image:{padding:"0px",margin:"0px"},menuButton:Object(C.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),grow:{flexGrow:1},search:Object(C.a)({position:"relative",borderRadius:e.shape.borderRadius,backgroundColor:Object(T.c)(e.palette.common.white,.15),"&:hover":{backgroundColor:Object(T.c)(e.palette.common.white,.25)},marginRight:e.spacing(2),marginLeft:0,width:"100%"},e.breakpoints.up("sm"),{width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",display:"flex",alignItems:"center",justifyContent:"center"},inputRoot:{color:"inherit"},inputInput:Object(C.a)({padding:e.spacing(1,1,1,0),paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("md"),{width:"20ch"})}})),B=a(234),_=a(236),D=a(237),z=a(238),I=a(239),W=a(262),R=a(240),A=a(241),F=a(258),G=a(242);function P(e){var t=e.open,a=e.setOpen,l=Object(n.useState)(0),o=Object(d.a)(l,2),c=o[0],u=o[1],s=Object(n.useState)(""),m=Object(d.a)(s,2),p=m[0],b=m[1],f=Object(n.useState)(""),g=Object(d.a)(f,2),E=g[0],h=g[1],v=Object(n.useState)(""),w=Object(d.a)(v,2),y=w[0],k=w[1],O=Object(n.useState)(""),j=Object(d.a)(O,2),x=j[0],C=j[1],S=function(){u(c+1)},T=function(){var e=0;"unter 100\u20ac"===x?e=100:"100-200\u20ac"===x?e=200:"\xfcber 200\u20ac"===x&&(e=300),window.results=Object(i.a)(Object(i.a)({},window.results),{},{age:p,gender:E,income:y,clothing:x,budget:e}),u(5)},N=function(){a(!1),u(0)},P=function(){switch(c){case 1:return!!p;case 2:return!!E;case 3:return!!y;case 4:return!!x;default:return!0}};return r.a.createElement(G.a,{open:t,onClose:function(e,t){"backdropClick"!==t&&"escapeKeyDown"!==t&&(a(!1),u(0))},maxWidth:"sm",fullWidth:!0},function(){switch(c){case 0:return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,null,"Willkommen zur Shopping-Studie"),r.a.createElement(_.a,null,r.a.createElement(D.a,null,"Danke, dass du an dieser Untersuchung teilnimmst. Dein Feedback hilft uns, das Online-Shopping-Erlebnis der Zukunft zu verbessern.",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("strong",null,"Deine Aufgabe:"),r.a.createElement("br",null),"St\xf6bere in unserem Shop und kaufe so ein, wie du es in einem echten Online-Shop tun w\xfcrdest. Du hast ein virtuelles Budget, das du frei nutzen kannst.",r.a.createElement("br",null),r.a.createElement("br",null),"Achte auf Details wie Preise, Produktinfos, Nachhaltigkeit etc. \u2013 du gibst kein echtes Geld aus, entscheide aber realistisch.",r.a.createElement("br",null),r.a.createElement("br",null),"Beantworte bitte zun\xe4chst 4 kurze Fragen.")),r.a.createElement(z.a,null,r.a.createElement(I.a,{onClick:S,color:"primary",variant:"contained"},"Weiter")));case 1:return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,null,"1. Wie alt bist du?"),r.a.createElement(_.a,null,r.a.createElement(W.a,{component:"fieldset"},r.a.createElement(R.a,{value:p,onChange:function(e){return b(e.target.value)}},r.a.createElement(A.a,{value:"unter 18",control:r.a.createElement(F.a,null),label:"unter 18"}),r.a.createElement(A.a,{value:"18-24",control:r.a.createElement(F.a,null),label:"18-24"}),r.a.createElement(A.a,{value:"25-34",control:r.a.createElement(F.a,null),label:"25-34"}),r.a.createElement(A.a,{value:"35-44",control:r.a.createElement(F.a,null),label:"35-44"}),r.a.createElement(A.a,{value:"45-54",control:r.a.createElement(F.a,null),label:"45-54"}),r.a.createElement(A.a,{value:"55+",control:r.a.createElement(F.a,null),label:"55+"})))),r.a.createElement(z.a,null,r.a.createElement(I.a,{onClick:S,color:"primary",variant:"contained",disabled:!P()},"Weiter")));case 2:return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,null,"2. Mit welchem Geschlecht identifizierst du dich?"),r.a.createElement(_.a,null,r.a.createElement(W.a,{component:"fieldset"},r.a.createElement(R.a,{value:E,onChange:function(e){return h(e.target.value)}},r.a.createElement(A.a,{value:"weiblich",control:r.a.createElement(F.a,null),label:"weiblich"}),r.a.createElement(A.a,{value:"m\xe4nnlich",control:r.a.createElement(F.a,null),label:"m\xe4nnlich"}),r.a.createElement(A.a,{value:"divers",control:r.a.createElement(F.a,null),label:"divers"}),r.a.createElement(A.a,{value:"keine Angabe",control:r.a.createElement(F.a,null),label:"keine Angabe"})))),r.a.createElement(z.a,null,r.a.createElement(I.a,{onClick:S,color:"primary",variant:"contained",disabled:!P()},"Weiter")));case 3:return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,null,"3. Wie hoch ist dein monatliches Nettoeinkommen?"),r.a.createElement(_.a,null,r.a.createElement(W.a,{component:"fieldset"},r.a.createElement(R.a,{value:y,onChange:function(e){return k(e.target.value)}},r.a.createElement(A.a,{value:"unter 1500\u20ac",control:r.a.createElement(F.a,null),label:"unter 1500\u20ac"}),r.a.createElement(A.a,{value:"1500-2000\u20ac",control:r.a.createElement(F.a,null),label:"1500-2000\u20ac"}),r.a.createElement(A.a,{value:"2000-2500\u20ac",control:r.a.createElement(F.a,null),label:"2000-2500\u20ac"}),r.a.createElement(A.a,{value:"2500-3500\u20ac",control:r.a.createElement(F.a,null),label:"2500-3500\u20ac"}),r.a.createElement(A.a,{value:"\xfcber 3500\u20ac",control:r.a.createElement(F.a,null),label:"\xfcber 3500\u20ac"})))),r.a.createElement(z.a,null,r.a.createElement(I.a,{onClick:S,color:"primary",variant:"contained",disabled:!P()},"Weiter")));case 4:return r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,null,"4. Wie viel gibst du monatlich f\xfcr Kleidung aus?"),r.a.createElement(_.a,null,r.a.createElement(W.a,{component:"fieldset"},r.a.createElement(R.a,{value:x,onChange:function(e){return C(e.target.value)}},r.a.createElement(A.a,{value:"unter 100\u20ac",control:r.a.createElement(F.a,null),label:"unter 100\u20ac"}),r.a.createElement(A.a,{value:"100-200\u20ac",control:r.a.createElement(F.a,null),label:"100-200\u20ac"}),r.a.createElement(A.a,{value:"\xfcber 200\u20ac",control:r.a.createElement(F.a,null),label:"\xfcber 200\u20ac"})))),r.a.createElement(z.a,null,r.a.createElement(I.a,{onClick:T,color:"primary",variant:"contained",disabled:!P()},"Weiter")));case 5:var e="";return"unter 100\u20ac"===x?e="100\u202f\u20ac":"100-200\u20ac"===x?e="200\u202f\u20ac":"\xfcber 200\u20ac"===x&&(e="300\u202f\u20ac"),r.a.createElement(r.a.Fragment,null,r.a.createElement(B.a,null,"Dein virtuelles Budget"),r.a.createElement(_.a,null,r.a.createElement(D.a,null,"Basierend auf deinen Angaben darfst du mit einem virtuellen Budget von ",r.a.createElement("strong",null,e)," shoppen.",r.a.createElement("br",null),r.a.createElement("br",null),"Viel Spa\xdf im Ernstings-Shop!")),r.a.createElement(z.a,null,r.a.createElement(I.a,{onClick:N,color:"primary",variant:"contained"},"Los geht's!")));default:return null}}())}var q=function(e){var t=e.totalItems,a=Object(n.useState)(null),l=Object(d.a)(a,2),o=l[0],c=l[1],i=N(),u=Object(f.f)(),s=Boolean(o),m=r.a.useState(!1),p=Object(d.a)(m,2),j=p[0],C=p[1];Object(n.useEffect)((function(){S()}),[]);var S=function(){C(!0)},T=r.a.createElement(g.a,{anchorEl:o,anchorOrigin:{vertical:"top",horizontal:"right"},id:"primary-search-account-menu-mobile",keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:s,onClose:function(){return c(null)}},r.a.createElement(E.a,null,r.a.createElement(h.a,{component:b.b,to:"/cart","aria-label":"Show cart items",color:"inherit"},r.a.createElement(v.a,{badgeContent:t,color:"secondary"},r.a.createElement(O.a,null))),r.a.createElement("p",null,"Cart")));return r.a.createElement(r.a.Fragment,null,r.a.createElement(P,{open:j,setOpen:C}),r.a.createElement(w.a,{position:"fixed",className:i.appBar,color:"inherit"},r.a.createElement(y.a,null,r.a.createElement(k.a,{component:b.b,to:"/webshop2",variant:"h6",className:i.title,color:"inherit"},r.a.createElement("img",{src:x.a,alt:"commerce.js",height:"75px",className:i.image})),r.a.createElement("div",{className:i.grow}),("/webshop2"===u.pathname||"/webshop2/"===u.pathname)&&r.a.createElement("div",{className:i.button},r.a.createElement(h.a,{component:b.b,to:"/cart","aria-label":"Show cart items",color:"secondary"},r.a.createElement(v.a,{badgeContent:t,color:"secondary"},r.a.createElement(O.a,null)))))),T)},J=a(264),M=a(265),K=a(195),L=a(260),U=function(e){var t=e.filterProducts,a=Object(S.a)((function(e){return{drawer:{width:190,flexShrink:0,zIndex:5},drawerPaper:{width:190,top:"8%"},drawerContainer:{marginTop:30,padding:20,overflow:"hidden"},formControl:{marginBottom:e.spacing(2)},clearButton:{marginTop:e.spacing(2)}}}))(),l=Object(n.useState)([]),o=Object(d.a)(l,2),i=o[0],u=o[1],s=Object(n.useState)([]),m=Object(d.a)(s,2),p=m[0],b=m[1],f=function(e){var a=e.target.name,n=e.target.checked?[].concat(Object(c.a)(i),[a]):i.filter((function(e){return e!==a}));u(n),t({targetGroups:n,productTypes:p})},g=function(e){var a=e.target.name,n=e.target.checked?[].concat(Object(c.a)(p),[a]):p.filter((function(e){return e!==a}));b(n),t({targetGroups:i,productTypes:n})};return r.a.createElement(J.a,{className:a.drawer,variant:"permanent",classes:{paper:a.drawerPaper}},r.a.createElement("div",{className:a.drawerContainer},r.a.createElement(W.a,{component:"fieldset",className:a.formControl},r.a.createElement(K.a,null,["Damen","Herren","Baby Jungen","Baby M\xe4dchen","Kleinkinder Jungen","Kleinkinder M\xe4dchen","Kinder Jungen","Kinder M\xe4dchen"].map((function(e){return r.a.createElement(A.a,{key:e,control:r.a.createElement(L.a,{checked:i.includes(e),onChange:f,name:e}),label:e})})))),r.a.createElement(W.a,{component:"fieldset",className:a.formControl},r.a.createElement(M.a,{component:"legend"},"Kategorie"),r.a.createElement(K.a,null,["Bekleidung","W\xe4sche"].map((function(e){return r.a.createElement(A.a,{key:e,control:r.a.createElement(L.a,{checked:p.includes(e),onChange:g,name:e}),label:e})})))),r.a.createElement(I.a,{variant:"contained",color:"secondary",className:a.clearButton,onClick:function(){u([]),b([]),t({targetGroups:[],productTypes:[]})}},"Filter zur\xfccksetzen")))},Q=a(252),Z=a(261),V=a(247),H=a(248),X=a(249),Y=a(250),$=a(251),ee=a(117),te=a.n(ee),ae=Object(S.a)((function(e){return{root:{maxWidth:345,display:"flex",flexDirection:"column",height:"100%"},media:{height:250,paddingTop:"56.25%",backgroundRepeat:"no-repeat",backgroundSize:"contain"},content:{flexGrow:1},cardActions:{display:"flex",justifyContent:"space-between",marginTop:"auto",paddingLeft:"16px",paddingRight:"16px"},addToCartButton:{backgroundColor:e.palette.secondary.main,color:"#fff",padding:"10px",borderRadius:"50%",transition:"background-color 0.3s ease","&:hover":{backgroundColor:e.palette.secondary.dark},margin:"10px"},saveEnergyTag:{height:"70px",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#8BC34A",padding:"10px",borderRadius:"5px",cursor:"pointer",margin:"10px",width:"95%"},saveEnergyText:{fontWeight:"bold",color:"#fff"},saveEnergyTagPlaceholder:{height:"70px",margin:"10px"},saveEnergySubText:{color:"#fff"},infoIcon:{color:"#fff"},drawerContent:{width:350,padding:40,position:"relative"},closeButton:{position:"absolute",top:10,right:10},efficiencyClass:{margin:"10px 0",padding:0,border:"none",background:"none",cursor:"pointer"},accordion:{width:"100%",boxShadow:"none",border:"none","&:before":{display:"none"}},heading:{fontSize:"1rem"},accordionDetails:{display:"flex",flexDirection:"column"},productInfoItem:{marginBottom:"10px"},sustainableChip:{display:"none"},efficiencyBody:{marginTop:"20px"},infoButton:{marginTop:"10px",textTransform:"none"}}})),ne=function(e){var t,a=e.product,l=e.onAddToCart,o=ae(),c=Object(n.useState)(!1),i=Object(d.a)(c,2),u=i[0],s=i[1],m=Object(n.useState)(null),p=Object(d.a)(m,2),b=p[0],f=p[1],g=function(){if(s(!1),b){var e=(new Date-b)/1e3;window.results&&(window.results.productInfoDwellTime=(window.results.productInfoDwellTime||0)+e),f(null)}},E="test"===(null===(t=window.results)||void 0===t?void 0:t.subjectGroup);return r.a.createElement(V.a,{className:o.root},r.a.createElement("div",{style:{position:"relative"}},r.a.createElement(H.a,{className:o.media,image:a.image.url,title:a.name}),a.isSustainable&&r.a.createElement("div",{style:{position:"absolute",top:10,left:10,backgroundColor:"#ffffff",color:"#2e7d32",border:"1px solid #2e7d32",padding:"4px 8px",borderRadius:"16px",fontSize:"0.75rem",fontWeight:"bold",display:"flex",alignItems:"center",gap:"4px",boxShadow:"0 1px 4px rgba(0,0,0,0.1)"}},r.a.createElement("span",{role:"img","aria-label":"leaf"},"\ud83c\udf31")," Nachhaltig")),r.a.createElement(X.a,null,r.a.createElement(k.a,{gutterBottom:!0,variant:"h5",component:"h2"},a.name),E&&r.a.createElement(I.a,{className:o.infoButton,startIcon:r.a.createElement(te.a,null),onClick:function(){s(!0),f(new Date),window.results&&(window.results.clicksProductinformation=(window.results.clicksProductinformation||0)+1)},variant:"outlined",color:"primary"},"Produktinformationen")),r.a.createElement(Y.a,{className:o.cardActions},r.a.createElement(k.a,{variant:"h6",className:o.price},a.price.formatted,"\u20ac"),r.a.createElement(h.a,{"aria-label":"Add to Cart",onClick:function(){return l(a.id,1)},className:o.addToCartButton},r.a.createElement($.a,null))),E&&r.a.createElement(J.a,{anchor:"right",open:u,onClose:g},r.a.createElement("div",{className:o.drawerContent},r.a.createElement(h.a,{className:o.closeButton,onClick:g},"X"),r.a.createElement(k.a,{variant:"h6",gutterBottom:!0},"Produktinformationen"),a.attributes&&r.a.createElement(Z.a,{mt:2},r.a.createElement(k.a,{variant:"body2",paragraph:!0},"Transparenz & Nachhaltigkeit auf einen Blick \u2013 informiere dich \xfcber Materialien, Produktionsbedingungen und Recyclingm\xf6glichkeiten."),Object.entries(a.attributes).map((function(e,t){var a=Object(d.a)(e,2),n=a[0],l=a[1];return r.a.createElement(Z.a,{key:t,mt:2,p:2,border:"1px solid #ddd",borderRadius:8,boxShadow:"0 1px 4px rgba(0,0,0,0.05)"},r.a.createElement(k.a,{variant:"subtitle1",gutterBottom:!0,style:{fontWeight:600}},n),Object.entries(l).map((function(e,t){var a=Object(d.a)(e,2),n=a[0],l=a[1];return r.a.createElement(k.a,{key:t,variant:"body2",color:"textSecondary",style:{marginBottom:4}},r.a.createElement("strong",null,n,":")," ",l)})))}))))))},re=Object(S.a)((function(e){return{toolbar:e.mixins.toolbar,content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:e.spacing(3)},root:{flexGrow:1}}})),le=function(e){var t=e.products,a=e.onAddToCart,n=re();return r.a.createElement("main",{className:n.content},r.a.createElement("div",{className:n.toolbar}),t?r.a.createElement(Q.a,{container:!0,justify:"center",spacing:4},t.map((function(e){return r.a.createElement(Q.a,{key:e.id,item:!0,xs:12,sm:6,md:4,lg:3},r.a.createElement(ne,{product:e,onAddToCart:a}))}))):r.a.createElement(k.a,{variant:"h6",align:"center",color:"textSecondary"},"No products available"))},oe=a(254),ce=Object(S.a)((function(){return{root:{maxWidth:"100%"},media:{height:250,paddingTop:"56.25%",backgroundRepeat:"no-repeat",backgroundSize:175},cardActions:{display:"flex",justifyContent:"center"},cardContent:{display:"flex",justifyContent:"space-between",height:150},chip:{backgroundColor:"#C3DCAC"},buttons:{display:"flex",alignItems:"center"}}})),ie=(a(266),a(253)),ue=a(118),se=a.n(ue),me=(a(143),a(173),function(e){e.product;var t=e.item,a=e.onUpdateCartQty,n=e.onRemoveFromCart,l=ce(),o=(ie.a,se.a,l.iconImage,function(e,t){return a(e,t)});return r.a.createElement(V.a,{className:"cart-item"},r.a.createElement(H.a,{image:t.image.url,alt:t.name,className:l.media}),r.a.createElement(X.a,{className:l.cardContent},r.a.createElement(k.a,{variant:"h5"},t.name),r.a.createElement(k.a,{variant:"h5"},t.price.formatted,"\u20ac")),r.a.createElement(Y.a,{className:l.cardActions},r.a.createElement("div",{className:l.buttons},r.a.createElement(I.a,{type:"button",size:"small",onClick:function(){return o(t.id,t.quantity-1)}},"-"),r.a.createElement(k.a,null,"\xa0",t.quantity,"\xa0"),r.a.createElement(I.a,{type:"button",size:"small",onClick:function(){return o(t.id,t.quantity+1)}},"+")),r.a.createElement(I.a,{variant:"contained",type:"button",color:"secondary",onClick:function(){return e=t.id,n(e);var e}},"Entfernen")))}),de=Object(S.a)((function(e){var t;return{toolbar:e.mixins.toolbar,title:{marginTop:"5%"},emptyButton:(t={minWidth:"150px"},Object(C.a)(t,e.breakpoints.down("xs"),{marginBottom:"5px"}),Object(C.a)(t,e.breakpoints.up("xs"),{marginRight:"20px"}),t),checkoutButton:{minWidth:"150px"},checkoutButtonEmptyCart:{minWidth:"150px",marginTop:"15px",marginRight:"15px"},link:{textDecoration:"none"},cardDetails:{display:"flex",marginTop:"10%",width:"100%",justifyContent:"space-between"}}}));function pe(e){var t=e.open;return r.a.createElement("div",null,r.a.createElement(G.a,{open:t,"aria-labelledby":"form-dialog-title"},r.a.createElement(B.a,{id:"form-dialog-title"}," Danke f\xfcr deine Teilnahme!"),r.a.createElement(_.a,null,r.a.createElement(D.a,null,"Vielen Dank, dass du dir Zeit f\xfcr diese kleine Umfrage genommen hast! Dein Beitrag hilft uns, das Online-Shopping-Erlebnis noch besser zu gestalten."))))}var be=a(51),fe=a.n(be),ge=function(e){var t=e.cart,a=e.onUpdateCartQty,l=e.onRemoveFromCart,o=e.onEmptyCart,c=de(),i=Object(n.useState)(!1),u=Object(d.a)(i,2),p=u[0],f=u[1],g=function(){var e=Object(m.a)(s.a.mark((function e(){var a,n,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new Date(window.results.startTime),n=new Date,r=t.line_items.map((function(e){return{product_id:e.name,product_quantity:e.quantity,product_price:e.price.formatted,categories:e.categories||[]}})),l={participant_id:window.results.id,group_id:window.results.subjectGroup,startTime:a.toISOString(),endTime:n.toISOString(),duration:(n.getTime()-a.getTime())/1e3,recorded_date:n.toISOString().split("T")[0],finished:"True",age:window.results.age,gender:window.results.gender,income:window.results.income,clothing:window.results.clothing,budget:window.results.budget,total_items:t.total_items,subtotal:t.subtotal.formatted,products:r,totalSpent:t.subtotal.formatted,itemsBought:t.total_items,sustainableRatio:.5,totalTimeInShop:(n.getTime()-a.getTime())/1e3,cartCategories:Array.from(new Set(r.flatMap((function(e){return e.categories})))),cartSizes:Array.from(new Set(r.flatMap((function(e){return e.categories})))),clicks:window.results.clicksProductinformation||0,dwellTime:window.results.productInfoDwellTime||0},e.prev=4,e.next=7,fetch("https://webshop-api-cyan.vercel.app/api/results",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)});case 7:e.sent.ok?(f(!0),fe.a.remove("cart"),o()):alert("Data transfer failed!"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(4),console.error("\u274c Error posting survey:",e.t0),alert("Data transfer error!");case 15:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}();return t.line_items?r.a.createElement(oe.a,null,r.a.createElement(pe,{open:p,setOpen:f}),r.a.createElement("div",{className:c.toolbar}),r.a.createElement(k.a,{className:c.title,variant:"h3",gutterBottom:!0},"Dein Warenkorb"),0===t.line_items.length?r.a.createElement("div",null,r.a.createElement(k.a,{variant:"subtitle1"},"Es befindet sich zurzeit nichts im Warenkorb,",r.a.createElement(b.b,{className:c.link,to:"/webshop2"}," f\xfcge etwas hinzu"),"!"),r.a.createElement(I.a,{className:c.checkoutButtonEmptyCart,size:"large",variant:"contained",color:"primary",component:b.b,to:"/webshop2"},"Zur\xfcck")):r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{container:!0,spacing:3},t.line_items.map((function(e){return r.a.createElement(Q.a,{item:!0,xs:12,sm:4,key:e.id},r.a.createElement(me,{item:e,onUpdateCartQty:a,onRemoveFromCart:l}))}))),r.a.createElement("div",{className:c.cardDetails},r.a.createElement(k.a,{variant:"h4"},"Summe: ",t.subtotal.formatted.toFixed(2),"\u20ac"),r.a.createElement("div",null,r.a.createElement(I.a,{className:c.emptyButton,size:"large",variant:"contained",color:"primary",component:b.b,to:"/webshop2"},"Zur\xfcck"),r.a.createElement(I.a,{className:c.emptyButton,size:"large",variant:"contained",color:"primary",onClick:o},"Warenkorb leeren"),r.a.createElement(I.a,{className:c.checkoutButton,size:"large",variant:"contained",color:"secondary",onClick:g},"Jetzt kaufen"))))):"Loading..."},Ee=a(119),he=a.n(Ee),ve=a(255),we=(a(174),a(257));window.results={id:Object(we.a)(),group:"ANFLVF",subjectGroup:Math.random()<.5?"test":"control",startTime:new Date,clicksProductinformation:0,productInfoDwellTime:0};var ye=function(){var e=Object(n.useState)(!1),t=Object(d.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)([]),u=Object(d.a)(o,2),g=u[0],E=u[1],h=Object(n.useState)([]),v=Object(d.a)(h,2),w=v[0],y=v[1],k=Object(n.useState)({line_items:[],total_items:0,subtotal:{formatted:0}}),O=Object(d.a)(k,2),j=O[0],x=O[1],C=Object(n.useState)({targetGroups:[],productTypes:[]}),S=Object(d.a)(C,2),T=S[0],N=S[1];Object(n.useEffect)((function(){B()}),[]),Object(n.useEffect)((function(){if(0!==w.length){var e=fe.a.get("cart");if(e)try{var t=JSON.parse(e),a=_(t,w);x(D(a))}catch(n){console.error("Invalid cart cookie",n)}}}),[w]),Object(n.useEffect)((function(){fe.a.set("cart",JSON.stringify(j),{expires:7})}),[j]);var B=function(){var e=Object(m.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://webshop-api-cyan.vercel.app/api/products");case 3:return t=e.sent,e.next=6,t.text();case 6:a=e.sent,console.log("\ud83e\uddfe Raw response:",a),n=JSON.parse(a),E(n.products),y(n.products),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("\u274c Error fetching products:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),_=function(e,t){var a=e.line_items.map((function(e){var a=t.find((function(t){return t.id===e.product_id}));return a?Object(i.a)(Object(i.a)({},e),{},{name:a.name,image:a.image,categories:a.categories,price:{formatted:a.price.formatted}}):e}));return Object(i.a)(Object(i.a)({},e),{},{line_items:a})},D=function(e){var t=e.line_items.reduce((function(e,t){return e+t.quantity}),0),a=e.line_items.reduce((function(e,t){return e+t.price.formatted*t.quantity}),0);return Object(i.a)(Object(i.a)({},e),{},{total_items:t,subtotal:{formatted:a}})},z=he()({typography:{h5:{fontWeight:500},fontFamily:["Roboto","Arial","sans-serif"].join(",")}});return r.a.createElement(b.a,null,r.a.createElement("div",{style:{display:"flex"}},r.a.createElement(ve.a,{theme:z},r.a.createElement(p.a,null),r.a.createElement(q,{totalItems:j.total_items,handleDrawerToggle:function(){return l(!a)}}),r.a.createElement(f.c,null,r.a.createElement(f.a,{exact:!0,path:"/webshop2"},r.a.createElement(U,{filterProducts:function(e){var t=e.targetGroups,a=void 0===t?[]:t,n=e.productTypes,r=void 0===n?[]:n;N({targetGroups:a,productTypes:r});var l=w.filter((function(e){var t=e.categories||[],n=0===a.length||a.some((function(e){return t.includes(e)})),l=0===r.length||r.some((function(e){return t.includes(e)}));return n&&l}));console.log("Filtered products:",l,"with filters:",{targetGroups:a,productTypes:r}),E(l)},keys:T}),r.a.createElement(le,{products:g,onAddToCart:function(e,t){x((function(a){var n;if(a.line_items.find((function(t){return t.product_id===e})))n=a.line_items.map((function(a){return a.product_id===e?Object(i.a)(Object(i.a)({},a),{},{quantity:a.quantity+t}):a}));else{var r=w.find((function(t){return t.id===e}));if(!r)return a;var l={id:"item_".concat(e),product_id:e,name:r.name,quantity:t,price:{formatted:r.price.formatted},image:r.image,categories:r.categories||[]};n=[].concat(Object(c.a)(a.line_items),[l])}return D(Object(i.a)(Object(i.a)({},a),{},{line_items:n}))}))}})),r.a.createElement(f.a,{exact:!0,path:"/cart"},r.a.createElement(ge,{cart:j,onUpdateCartQty:function(e,t){x((function(a){var n=a.line_items.map((function(a){return a.id===e?Object(i.a)(Object(i.a)({},a),{},{quantity:t}):a}));return D(Object(i.a)(Object(i.a)({},a),{},{line_items:n}))}))},onRemoveFromCart:function(e){x((function(t){var a=t.line_items.filter((function(t){return t.id!==e}));return D(Object(i.a)(Object(i.a)({},t),{},{line_items:a}))}))},onEmptyCart:function(){fe.a.remove("cart"),x(D(Object(i.a)(Object(i.a)({},j),{},{line_items:[]})))}}))))))};o.a.render(r.a.createElement(ye,null),document.getElementById("root"))}},[[131,1,2]]]);
//# sourceMappingURL=main.d4cf78f2.chunk.js.map